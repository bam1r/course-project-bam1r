# Non-Functional Requirements (NFR)

Таблица нефункциональных требований для системы Equipment Checkout.

| ID      | Название | Метрика/Порог | Способ проверки  Приоритет |
|---------|----------|---------------|----------------------------|
| NFR-001 | Аутентификация пользователей | 100% запросов к защищённым эндпойнтам требуют валидный токен; время проверки токена < 50ms | Автоматизированные тесты (pytest), нагрузочное тестирование  Высокий |
| NFR-002 | Авторизация по ролям | 100% запросов проверяют права доступа; студенты не могут изменять чужие записи | Unit-тесты для каждого эндпойнта, интеграционные тесты  Высокий |
| NFR-003 | Валидация входных данных | 100% входных данных валидируются; отклонение невалидных запросов с кодом 400 | Pydantic валидация, тесты с некорректными данными  Высокий || NFR-005 | Хеширование паролей | Все пароли хранятся в виде хешей (bcrypt/argon2); проверка хеша < 200ms | Code review, unit-тесты проверки хеширования | User Service | Высокий |
| NFR-004 | HTTPS обязателен | 100% трафика через HTTPS в production; редирект HTTP → HTTPS | Конфигурация сервера, проверка заголовков  Высокий |
| NFR-005 | Логирование безопасности | Все события аутентификации/авторизации логируются; время записи лога < 10ms | Проверка логов, интеграционные тесты  Средний |
| NFR-006 | Валидация статуса checkout | Статус может изменяться только по бизнес-правилам; проверка в каждом обновлении | Unit-тесты переходов состояний, интеграционные тесты  Высокий |
| NFR-007 | CORS политика | Разрешены только доверенные домены; проверка Origin заголовка | Конфигурационные тесты, проверка заголовков  Средний |
| NFR-008 | Время ответа API | 95-й перцентиль времени ответа < 500ms для CRUD операций | Нагрузочное тестирование (locust/artillery)  Средний || NFR-015 | Резервное копирование данных | Ежедневные бэкапы; восстановление за < 1 час | Процедуры бэкапа, тесты восстановления  Средний |

## Легенда приоритетов

- **Высокий**: Критично для безопасности и функциональности, должно быть реализовано в MVP
- **Средний**: Важно для стабильности и удобства, может быть реализовано в следующих итерациях
