```
┌─────────────┐
│    User     │
│  (Student)  │
└──────┬──────┘
       │
       │ F1: HTTP Request (credentials)
       │
       ▼
┌─────────────────────────────────────────────────────────────┐
│                    TRUST BOUNDARY                           │
│                                                             │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              API Gateway / FastAPI                   │   │
│  │  ┌────────────────────────────────────────────────┐  │   │
│  │  │         Request Validation                     │  │   │
│  │  └────────────────────────────────────────────────┘  │   │
│  └───────────────────┬──────────────────────────────────┘   │
│                      │                                      │
│                      │ F2: Validated Request + Token        │
│                      │                                      │
│  ┌───────────────────▼──────────────────────────────────┐   │
│  │            Authentication Service                    │   │
│  │  ┌────────────────────────────────────────────────┐  │   │
│  │  │  Token Validation / Password Verification      │  │   │
│  │  └────────────────────────────────────────────────┘  │   │
│  └───────────────────┬──────────────────────────────────┘   ─┐
│                      │                                       │
│                      │ F3: Auth Result + User Context        │
│                      │                                       │
│  ┌───────────────────▼──────────────────────────────────┐    │
│  │            Authorization Middleware                  │    └─
│  │  ┌────────────────────────────────────────────────┐  │     │
│  │  │  Role Check / Owner Verification               │  │     │
│  │  └────────────────────────────────────────────────┘  │     │
│  └───────────────────┬──────────────────────────────────┘     │
│                      │                                        │
│                      │ F4: Authorized Request                 │
│                      │                                        │
│  ┌───────────────────▼──────────────────────────────────┐     │
│  │            Business Logic Layer                      │     │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐│     │
│  │  │ User Service │  │Asset Service │  │Checkout Svc  ││     │
│  │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘│     │
│  └─────────┼─────────────────┼─────────────────┼────────┘     │
│            │                 │                 │              │
│            │ F5              │ F6              │ F7           │
│            │                 │                 │              │
│  ┌─────────▼─────────────────▼─────────────────▼─────────┐    │
│  │              In-Memory Database (_DB)                 │    │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │    │
│  │  │ Users[]  │  │ Assets[] │  │Checkouts[]│            │    │
│  │  └──────────┘  └──────────┘  └──────────┘             │    │
│  └───────────────────────────────────────────────────────┘    │
│                                                               │
└───────────────────────────────────────────────────────────────┘
       │
       │ F8: HTTP Response (JSON)
       │
       ▼
┌─────────────┐
│    User     │
│  (Student)  │
└─────────────┘

┌─────────────┐
│    Admin    │
└──────┬──────┘
       │
       │ F9: Admin Request (elevated privileges)
       │
       ▼
   [Same flow as User, but with admin role]
```
